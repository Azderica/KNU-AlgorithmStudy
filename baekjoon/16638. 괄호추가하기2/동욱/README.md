# 16638. 괄호 추가하기2

블로그 풀이 : https://dong-co.tistory.com/16

보자마자 자료구조 때 배운 스택을 이용한 계산기 만드는 과제가 생각났다.

그 방식을 적용하여 풀었다. 

자료구조에 나오는 스택 계산기는

1. infix -> postfix
2. postfix 를 통한 결과 

로 이루어지는 과정이다.

 

### 풀이과정

1. **dfs를 통해 괄호를 친다.** 
   1. 괄호가 중복될수 없기 때문에 괄호보다는 괄호 처리된 연산을 따로 우선순위만 높여주는 방식으로 마킹하였다.
      1. 괄호 처리 : 우선순위 1
      2. \* : 우선순위 2
      3. +,- : 우선순위 3
   2. dfs를 끝까지 간 후 수식을 계산한다.
2. **수식계산법**
   1. **Infix -> postfix**
      1. 피연산자가 들어오면 바로 postfix 벡터에 넣는다.
      2. 입력이 연산자인 경우에는
         1. 스택이 비었거나, 스택 top보다 우선순위가 낮은 인풋일 때까지 pop 한다. pop한뒤에는 postfix 벡터에 넣는다.
         2. 연산자를 push한다.
         3. 인풋을 다 받고도 스택이 비어있지 않은 경우 다 비울 때까지 다 postfix에 넣는다.
   2. **postfix를 통한 결과 도출**
      1. 피연산자는 무조건 스택에 집어넣는다.
      2. 연산자가 나온 경우 스택에서 2개를 뽑아 계산한다.
      3. 계산한 결과를 다시 push 한다.
      4. 마지막까지 계산한 뒤 스택에 남은 한 개가 결과이다.
3. 결과를 갱신하여 최댓값을 찾는다.

 

위와 같은 로직으로 계산한다면 쉽게 문제를 풀 수 있다. 근데 **주의해야 될게** 이문제에서는 **결과가 음수가 나올 수도 있어서** **max_result 초기화를 0으로 하면 안 되고 INT_MIN으로 해줘야지 문제가 생기지 않는다.**